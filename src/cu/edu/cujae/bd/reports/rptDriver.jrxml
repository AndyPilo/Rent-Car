<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rptDriver" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="85c40df9-712b-46ba-b997-8b8c4091eace">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[SELECT driver.dni,driver.name,driver.last_name,driver.address,driver_category.category,
		   COUNT(contract.cod_driver) as number_of_cars
	FROM contract Right JOIN driver ON contract.cod_driver = driver.cod_driver
				  INNER JOIN driver_category ON driver.cod_category = driver_category.cod_category
	GROUP BY driver.dni,driver.name,driver.last_name,driver.address,driver_category.category;]]>
	</queryString>
	<field name="dni" class="java.lang.String"/>
	<field name="name" class="java.lang.String"/>
	<field name="last_name" class="java.lang.String"/>
	<field name="address" class="java.lang.String"/>
	<field name="category" class="java.lang.String"/>
	<field name="number_of_cars" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<textField pattern="dd/MM/yyyy">
				<reportElement x="455" y="0" width="100" height="20" uuid="d3c2b944-1e7c-46bc-8264-f770cd77a9a6"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="93" splitType="Stretch">
			<staticText>
				<reportElement x="174" y="0" width="194" height="36" uuid="5872070f-02c0-4ba5-916b-6e516f99c28d"/>
				<textElement textAlignment="Center">
					<font size="24" isBold="true"/>
				</textElement>
				<text><![CDATA[ Driver Report]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="21" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="92" height="20" uuid="61d08040-9101-4241-8810-25551cd8e5af"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[name]]></text>
			</staticText>
			<staticText>
				<reportElement x="92" y="0" width="92" height="20" uuid="4df26afa-cf17-4559-ba82-443e76f6c476"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[address]]></text>
			</staticText>
			<staticText>
				<reportElement x="184" y="0" width="92" height="20" uuid="44ec5d8d-4113-4714-8a0d-f157d532bd5e"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[last_name]]></text>
			</staticText>
			<staticText>
				<reportElement x="276" y="0" width="92" height="20" uuid="5a185148-5655-4136-bd1d-2f784de66e63"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[dni]]></text>
			</staticText>
			<staticText>
				<reportElement x="368" y="0" width="92" height="20" uuid="2950ae94-42c9-41b0-8a61-23116ecd3868"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[category]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="0" width="92" height="20" uuid="106b2f64-b237-4d41-a20c-a33a47f79b4c"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[number_of_cars]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="21" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="92" height="20" uuid="e2e1f6b4-f8bf-47f8-9c1a-cb0d06e5f10c"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="92" y="0" width="92" height="20" uuid="e479955d-6156-44a4-96c1-26dde5377427"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{address}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="184" y="0" width="92" height="20" uuid="dc97ed79-da9c-4cf2-859d-7e522b5286ee"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{last_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="276" y="0" width="92" height="20" uuid="37fdb5f2-f7f1-4e14-ab14-fc600c2e1876"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dni}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="368" y="0" width="92" height="20" uuid="d6f3e4c6-90b2-4b3e-a5dd-c103ac44318b"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{category}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="460" y="0" width="92" height="20" uuid="d55eebbd-ff46-4a91-9a28-a3a7e5299fc2"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{number_of_cars}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch">
			<textField>
				<reportElement x="196" y="34" width="80" height="20" uuid="2d831e4e-4090-4e62-b119-e81bd79087cc"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="276" y="34" width="40" height="20" uuid="3fe33109-1e0e-4eee-8ecc-35dfaca3f6e7"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
